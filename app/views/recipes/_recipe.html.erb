<%= turbo_frame_tag recipe do %>
  <div class="list-group-item list-group-item-action mt-2 mb-2">

  <div class="row d-flex w-100 justify-content-between mt-2 mb-2">

    <div class="col-md">
      <% if recipe.image.attached? %>
        <%= image_tag recipe.image, style: "height: 200px" %>
      <% else %>
        <%= image_tag url_for("/assets/no-photo-icon-28.jpg"), style: "height: 200px" %>
      <% end %>    
    </div>

    <div class="col text-left">
      <h5><%= recipe.title %></h5>

      <table>
        <tr>
          <td>Halal</td>
          <td>
            <% if recipe.is_halal? %>
              <i class="fa-solid fa-circle-check ms-2" style="color: green"></i>
            <% else %>
              <i class="fa-solid fa-circle-xmark ms-2" style="color: red"></i>
            <% end %>
          </td>
        </tr>
        <tr>
          <td>Kocher</td>
          <td>
            <% if recipe.is_kosher? %>
              <i class="fa-solid fa-circle-check ms-2" style="color: green"></i>
            <% else %>
              <i class="fa-solid fa-circle-xmark ms-2" style="color: red"></i>
            <% end %>
          </td>
        </tr>
        <tr>
          <td>Vegetarian</td>
          <td>
            <% if recipe.is_vegetarian? %>
              <i class="fa-solid fa-circle-check ms-2" style="color: green"></i>
            <% else %>
              <i class="fa-solid fa-circle-xmark ms-2" style="color: red"></i>
            <% end %>
          </td>
        </tr> 
        <tr>
          <td cols="2">
            <% if current_user && current_user.likes?(recipe) %>
              <span class="badge bg-danger"> <i class="fa-solid fa-heart" style="font-size: 10pt"></i> </span>
            <% end %>
            <% if current_user && current_user.cooked?(recipe) %>
              <span class="badge bg-secondary"> <i class="fa-solid fa-kitchen-set" style="font-size: 14pt"></i> </span>
            <% end %>   
          </td>
        </tr>               
      </table>

      <div class="mt-4"><%= recipe.brief_info %></div>
    </div>


    <div class="col-auto">
      <div class="row text-right">
        <small>
          <%= time_ago_in_words recipe.created_at %> ago | 
          <%= link_to recipe.user.email, user_path(recipe.user), target: "_top" %>

          <% if recipe.likes_count > 0 %>
          |  <span class="badge bg-danger"><i class="fa-solid fa-heart me-1"></i> <%= recipe.likes_count %></span>   
          <% end %>              
        </small>     
      </div>

      <div class="row mt-md-5 text-right">
        <%= link_to recipe, class: "col-auto btn btn-primary me-1 mt-0" do %>
          <i class="fa-solid fa-info mx-2"></i>
        <% end %>  
        
        <% if user_signed_in? and recipe.user == current_user %>
          <%= link_to edit_recipe_path(recipe), class: "col-auto btn btn-warning me-1" do %>
            <i class="fa-solid fa-pen"></i>
          <% end %>  
          <%= link_to recipe, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "col-auto btn btn-danger" do %>
            <i class="fa-solid fa-trash-can"></i>
          <% end %>      
        <% end %>
      </div>

    </div>

</div>

</div>

<% end %>
